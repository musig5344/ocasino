{"openapi":"3.1.0","info":{"title":"B2B Casino Integration Platform","description":"\n        # B2B 온라인 카지노 게임 통합 플랫폼 API\n        \n        이 API는 카지노 운영사, 게임 어그리게이터, 제휴사 등 다양한 비즈니스 파트너에게 \n        게임 통합, 지갑 관리, 보고서 등의 서비스를 제공합니다.\n        \n        ## 인증\n        \n        모든 API 요청은 HTTP 헤더에 API 키를 포함해야 합니다:\n        ```\n        X-API-Key: your_api_key\n        ```\n        \n        ## 보안\n        \n        - API 키는 파트너별로 발급되며, 권한 제어를 위해 사용됩니다.\n        - 모든 API 엔드포인트는 HTTPS로 보호됩니다.\n        - IP 화이트리스팅이 활성화된 경우, 허용된 IP에서만 API에 접근할 수 있습니다.\n        \n        ## 에러 처리\n        \n        모든 에러 응답은 다음 형식을 따릅니다:\n        ```json\n        {\n            \"error\": {\n                \"code\": \"ERROR_CODE\",\n                \"message\": \"Error description\"\n            }\n        }\n        ```\n        \n        주요 에러 코드:\n        - `UNAUTHORIZED`: 인증 실패\n        - `FORBIDDEN`: 권한 없음\n        - `RESOURCE_NOT_FOUND`: 리소스 찾을 수 없음\n        - `INVALID_REQUEST`: 잘못된 요청\n        - `INSUFFICIENT_FUNDS`: 잔액 부족\n        - `DUPLICATE_RESOURCE`: 중복 리소스\n        - `SERVICE_UNAVAILABLE`: 서비스 이용 불가\n        - `INTERNAL_ERROR`: 내부 서버 오류\n        ","version":"1.0.0"},"paths":{"/api/auth/login":{"post":{"tags":["Authentication","Authentication"],"summary":"파트너 로그인 및 토큰 발급","description":"파트너 코드와 API 키를 사용하여 로그인하고, API 접근에 사용할 액세스 토큰과 리프레시 토큰을 발급받습니다.","operationId":"login_for_access_token_api_auth_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"},"example":{"partner_code":"PARTNER001","api_key":"your_initial_api_key"}}},"required":true},"responses":{"200":{"description":"로그인 성공 및 토큰 발급","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenResponse"}}}},"401":{"description":"잘못된 자격 증명 (파트너 코드 또는 API 키 오류)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"요청 유효성 검사 오류"},"500":{"description":"로그인 처리 중 내부 서버 오류 발생","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}},"security":[{"ApiKeyAuth":[]}]}},"/api/auth/keys":{"get":{"tags":["Authentication","API Keys"],"summary":"자신의 API 키 목록 조회","description":"현재 인증된 파트너에게 속한 모든 활성/비활성 API 키 목록을 조회합니다. \n    이 응답에는 **API 키의 비밀 값(`key_secret`)이 포함되지 않습니다**.\n    \n    관리자(`api_keys.read.all` 권한)가 다른 파트너의 키를 조회하는 기능은 별도 구현이 필요합니다.","operationId":"list_api_keys_api_auth_keys_get","responses":{"200":{"description":"API 키 목록 조회 성공","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ApiKey"},"type":"array","title":"Response List Api Keys Api Auth Keys Get"}}}},"401":{"description":"인증되지 않은 접근 (유효한 API 키 필요)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"API 키 목록 조회 권한 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"API 키 목록 조회 중 내부 서버 오류 발생","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}},"security":[{"ApiKeyAuth":[]}]},"post":{"tags":["Authentication","API Keys"],"summary":"신규 API 키 생성","description":"새로운 API 키를 생성합니다. API 키는 플랫폼 API에 접근하기 위한 인증 수단입니다.\n    \n    - **요청 파트너:** 현재 인증된 파트너 ID (`requesting_partner_id`) 를 기반으로 생성 권한을 확인합니다.\n    - **권한:** 일반적으로 파트너는 자신의 API 키만 생성할 수 있습니다 (`api_keys.create.self` 필요). 특정 관리자 권한 (`api_keys.create.all`) 이 있다면 다른 파트너의 키도 생성 가능합니다.\n    - **비밀키:** 생성된 API 키의 비밀 값(`key_secret`)은 **이 응답에서만 반환**되므로 안전하게 저장해야 합니다.","operationId":"create_api_key_api_auth_keys_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiKeyCreate"},"example":{"partner_id":"a1b2c3d4-e5f6-7890-1234-567890abcdef","name":"My Reporting Key","description":"Key for accessing daily reports","permissions":["reports.read.daily","reports.download"]}}},"required":true},"responses":{"201":{"description":"API 키가 성공적으로 생성되었습니다. 응답 본문에 비밀키가 포함됩니다.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiKeyWithSecret"}}}},"403":{"description":"요청 파트너가 해당 파트너의 API 키를 생성할 권한이 없습니다.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"요청된 `partner_id`에 해당하는 파트너를 찾을 수 없습니다.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"409":{"description":"API 키 이름 중복 등 생성 충돌이 발생했습니다.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"요청 데이터 유효성 검사 오류"},"500":{"description":"API 키 생성 중 내부 서버 오류 발생","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}},"security":[{"ApiKeyAuth":[]}]}},"/api/auth/keys/{api_key_id}":{"delete":{"tags":["Authentication","API Keys"],"summary":"API 키 비활성화 (삭제 아님)","description":"지정된 ID의 API 키를 비활성화합니다. 비활성화된 키는 더 이상 API 인증에 사용할 수 없습니다.\n    키 레코드는 삭제되지 않고 비활성 상태로 유지됩니다.\n    \n    - 파트너는 자신의 API 키만 비활성화할 수 있습니다 (`api_keys.delete.self` 필요).\n    - 관리자(`api_keys.delete.all` 권한)는 다른 파트너의 키도 비활성화할 수 있습니다.","operationId":"deactivate_api_key_api_auth_keys__api_key_id__delete","security":[{"ApiKeyAuth":[]}],"parameters":[{"name":"api_key_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"비활성화할 API 키의 고유 ID","title":"Api Key Id"},"description":"비활성화할 API 키의 고유 ID"}],"responses":{"204":{"description":"API 키가 성공적으로 비활성화되었습니다."},"401":{"description":"인증되지 않은 접근","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"해당 API 키를 비활성화할 권한이 없습니다.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"지정된 ID의 API 키를 찾을 수 없습니다.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"API 키 비활성화 중 내부 서버 오류 발생","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/verify":{"get":{"tags":["Authentication","Authentication"],"summary":"현재 API 키 유효성 검증","description":"요청 헤더 (`X-API-Key`)에 포함된 API 키가 유효한지, 활성 상태인지, 그리고 만료되지 않았는지 확인합니다.\n    파트너 시스템 통합 시 연결 테스트 용도로 사용할 수 있습니다.","operationId":"verify_api_key_api_auth_verify_get","responses":{"200":{"description":"API 키가 유효합니다.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VerifyResponse"}}}},"401":{"description":"API 키가 제공되지 않았거나, 유효하지 않거나, 비활성 상태이거나, 만료되었습니다.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}},"security":[{"ApiKeyAuth":[]}]}},"/api/partners/partners":{"post":{"tags":["Partner Management","Partner Management"],"summary":"신규 파트너 생성 (관리자 전용)","description":"새로운 비즈니스 파트너(운영사, 어그리게이터 등)를 시스템에 등록합니다. \n    \n    이 작업은 `partners.create` 권한을 가진 관리자만 수행할 수 있습니다.\n    파트너 코드(code)는 시스템 전체에서 고유해야 합니다.","operationId":"create_partner_api_partners_partners_post","security":[{"ApiKeyAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PartnerCreate"},"example":{"code":"COOLCASINO","name":"Cool Casino Operator","partner_type":"operator","commission_model":"revenue_share","commission_rate":0.15,"contact_name":"Jane Doe","contact_email":"contact@coolcasino.com","status":"pending"}}}},"responses":{"201":{"description":"파트너가 성공적으로 생성되었습니다.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Partner"}}}},"401":{"description":"인증되지 않은 접근","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"파트너 생성 권한이 없습니다.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"409":{"description":"파트너 코드 또는 이름이 이미 존재합니다.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"요청 데이터 유효성 검사 오류 (예: 필수 필드 누락, 잘못된 형식)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"파트너 생성 중 내부 서버 오류 발생","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}},"get":{"tags":["Partner Management","Partner Management"],"summary":"파트너 목록 조회","description":"파트너 목록을 조회합니다. 페이지네이션, 필터링(이름, 상태, 유형), 정렬 기능을 지원합니다.\n    \n    - **관리자 (`partners.read.all` 권한):** 모든 파트너 목록을 필터링하여 조회할 수 있습니다.\n    - **일반 파트너 (`partners.read.self` 권한):** 자신의 파트너 정보만 조회됩니다 (필터링/정렬 적용 안 됨).","operationId":"list_partners_api_partners_partners_get","security":[{"ApiKeyAuth":[]}],"parameters":[{"name":"name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"파트너 이름(name)으로 부분 문자열 검색 (대소문자 구분 없음)","title":"Name"},"description":"파트너 이름(name)으로 부분 문자열 검색 (대소문자 구분 없음)","example":"Casino"},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string","pattern":"^(active|inactive|suspended|pending|terminated)$"},{"type":"null"}],"description":"파트너 상태(status) 필터","title":"Status"},"description":"파트너 상태(status) 필터","example":"active"},{"name":"partner_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"파트너 유형(partner_type) 필터","title":"Partner Type"},"description":"파트너 유형(partner_type) 필터","example":"operator"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"결과 오프셋","default":0,"title":"Offset"},"description":"결과 오프셋"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"description":"페이지 당 결과 수","default":100,"title":"Limit"},"description":"페이지 당 결과 수"},{"name":"sort_by","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"정렬 기준 필드","title":"Sort By"},"description":"정렬 기준 필드"},{"name":"sort_order","in":"query","required":false,"schema":{"type":"string","description":"정렬 순서 (asc 또는 desc)","default":"asc","title":"Sort Order"},"description":"정렬 순서 (asc 또는 desc)"}],"responses":{"200":{"description":"파트너 목록 조회 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PartnerList"}}}},"401":{"description":"인증되지 않은 접근","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"파트너 목록 조회 권한 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"잘못된 필터, 정렬 또는 페이지네이션 파라미터","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"파트너 목록 조회 중 내부 서버 오류 발생","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/api/partners/partners/{partner_id}":{"get":{"tags":["Partner Management","Partner Management"],"summary":"특정 파트너 상세 정보 조회","description":"지정된 ID의 파트너 상세 정보를 조회합니다.\n    \n    - **파트너 (`partners.read.self` 권한):** 자신의 파트너 정보만 조회 가능합니다.\n    - **관리자 (`partners.read.all` 권한):** ID로 지정된 모든 파트너의 정보를 조회 가능합니다.","operationId":"read_partner_api_partners_partners__partner_id__get","security":[{"ApiKeyAuth":[]}],"parameters":[{"name":"partner_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"조회할 파트너의 고유 ID","title":"Partner Id"},"description":"조회할 파트너의 고유 ID","example":"f47ac10b-58cc-4372-a567-0e02b2c3d479"}],"responses":{"200":{"description":"파트너 정보 조회 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Partner"}}}},"401":{"description":"인증되지 않은 접근","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"해당 파트너 정보 조회 권한 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"지정한 ID의 파트너를 찾을 수 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"파트너 정보 조회 중 오류 발생","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Partner Management","Partner Management"],"summary":"파트너 정보 업데이트","description":"지정된 ID의 파트너 정보를 업데이트합니다. 요청 본문에 포함된 필드만 업데이트됩니다 (부분 업데이트 지원).\n    \n    - **파트너 (`partners.update.self` 권한):** 자신의 파트너 정보만 업데이트 가능합니다. (단, 파트너 유형, 코드 등 민감 정보 업데이트는 제한될 수 있음 - 서비스 로직 확인 필요)\n    - **관리자 (`partners.update.all` 권한):** 모든 파트너의 모든 정보를 업데이트 가능합니다.","operationId":"update_partner_api_partners_partners__partner_id__put","security":[{"ApiKeyAuth":[]}],"parameters":[{"name":"partner_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"업데이트할 파트너의 고유 ID","title":"Partner Id"},"description":"업데이트할 파트너의 고유 ID","example":"f47ac10b-58cc-4372-a567-0e02b2c3d479"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PartnerUpdate"},"example":{"name":"Updated Casino Operator Name","contact_email":"new.contact@updatedcasino.com","status":"active"}}}},"responses":{"200":{"description":"파트너 정보 업데이트 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Partner"}}}},"401":{"description":"인증되지 않은 접근","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"해당 파트너 정보 업데이트 권한 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"업데이트할 파트너를 찾을 수 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"409":{"description":"수정하려는 정보가 다른 파트너와 충돌 (예: 이름)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"요청 데이터 유효성 검사 오류","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"파트너 정보 업데이트 중 오류 발생","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/api/partners/partners/{partner_id}/api-keys":{"post":{"tags":["Partner Management","Partner Management"],"summary":"Create Api Key","description":"파트너를 위한 새 API 키 생성\n\n파트너는 자신을 위한 API 키만 생성할 수 있습니다.\n관리자는 모든 파트너의 API 키를 생성할 수 있습니다.","operationId":"create_api_key_api_partners_partners__partner_id__api_keys_post","security":[{"ApiKeyAuth":[]}],"parameters":[{"name":"partner_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"파트너 ID","title":"Partner Id"},"description":"파트너 ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiKeyCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiKeyWithSecret"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Partner Management","Partner Management"],"summary":"List Api Keys","description":"파트너의 API 키 목록 조회\n\n파트너는 자신의 API 키만 볼 수 있습니다.\n관리자는 모든 파트너의 API 키를 볼 수 있습니다.","operationId":"list_api_keys_api_partners_partners__partner_id__api_keys_get","security":[{"ApiKeyAuth":[]}],"parameters":[{"name":"partner_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"파트너 ID","title":"Partner Id"},"description":"파트너 ID"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ApiKey"},"title":"Response List Api Keys Api Partners Partners  Partner Id  Api Keys Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/partners/partners/{partner_id}/api-keys/{key_id}":{"delete":{"tags":["Partner Management","Partner Management"],"summary":"Deactivate Api Key","description":"API 키 비활성화 (폐기)\n\n파트너는 자신의 API 키만 비활성화할 수 있습니다.\n관리자는 모든 파트너의 API 키를 비활성화할 수 있습니다.","operationId":"deactivate_api_key_api_partners_partners__partner_id__api_keys__key_id__delete","security":[{"ApiKeyAuth":[]}],"parameters":[{"name":"key_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"API 키 ID","title":"Key Id"},"description":"API 키 ID"},{"name":"partner_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"파트너 ID","title":"Partner Id"},"description":"파트너 ID"}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/partners/partners/{partner_id}/settings":{"post":{"tags":["Partner Management","Partner Management","Partner Settings","Partner Management"],"summary":"파트너 설정 생성 또는 업데이트","description":"특정 파트너의 설정을 키-값 형태로 생성하거나 업데이트합니다. \n    동일한 `setting_key`가 존재하면 값이 업데이트되고, 존재하지 않으면 새로 생성됩니다.\n    \n    - **파트너 (`settings.manage.self` 권한):** 자신의 파트너 계정에 대한 설정을 관리할 수 있습니다.\n    - **관리자 (`settings.manage.all` 권한):** 모든 파트너의 설정을 관리할 수 있습니다.","operationId":"update_or_create_partner_setting_api_partners_partners__partner_id__settings_post","security":[{"ApiKeyAuth":[]}],"parameters":[{"name":"partner_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"설정을 관리할 파트너의 고유 ID","title":"Partner Id"},"description":"설정을 관리할 파트너의 고유 ID","example":"f47ac10b-58cc-4372-a567-0e02b2c3d479"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PartnerSettingCreate"},"example":{"setting_key":"bet_limit_multiplier","setting_value":"1.5","value_type":"float"}}}},"responses":{"200":{"description":"기존 설정 업데이트 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PartnerSetting"}}}},"201":{"description":"새 설정 생성 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PartnerSetting"}}}},"401":{"description":"인증되지 않은 접근","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"해당 파트너 설정 관리 권한 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"지정한 파트너 ID를 찾을 수 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"요청 데이터 유효성 검사 오류 (예: 잘못된 키 형식, 값 타입 불일치)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"설정 관리 중 내부 서버 오류 발생","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}},"get":{"tags":["Partner Management","Partner Management","Partner Settings","Partner Management"],"summary":"특정 파트너의 설정 목록 조회","description":"지정된 파트너 ID에 속한 모든 설정 목록을 조회합니다.\n    \n    - **파트너 (`settings.read.self` 권한):** 자신의 파트너 계정에 대한 설정 목록만 조회 가능합니다.\n    - **관리자 (`settings.read.all` 권한):** 모든 파트너의 설정 목록을 조회 가능합니다.","operationId":"list_partner_settings_api_partners_partners__partner_id__settings_get","security":[{"ApiKeyAuth":[]}],"parameters":[{"name":"partner_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"설정 목록을 조회할 파트너의 고유 ID","title":"Partner Id"},"description":"설정 목록을 조회할 파트너의 고유 ID","example":"f47ac10b-58cc-4372-a567-0e02b2c3d479"}],"responses":{"200":{"description":"설정 목록 조회 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PartnerSettingList"}}}},"401":{"description":"인증되지 않은 접근","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"해당 파트너 설정 목록 조회 권한 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"지정한 파트너 ID를 찾을 수 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"설정 목록 조회 중 내부 서버 오류 발생","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/partners/partners/{partner_id}/whitelist":{"get":{"tags":["Partner Management","Partner Management","Partner IP Whitelist","Partner Management"],"summary":"파트너 IP 화이트리스트 조회","description":"지정된 파트너 ID에 대한 IP 화이트리스트 목록을 조회합니다. 이 목록에 있는 IP 주소에서만 해당 파트너의 API 호출이 허용될 수 있습니다 (미들웨어 등에서 적용).\n    \n    - **파트너 (`whitelist.read.self` 권한):** 자신의 파트너 계정에 대한 IP 목록만 조회 가능합니다.\n    - **관리자 (`whitelist.read.all` 권한):** 모든 파트너의 IP 목록을 조회 가능합니다.","operationId":"list_partner_ips_api_partners_partners__partner_id__whitelist_get","security":[{"ApiKeyAuth":[]}],"parameters":[{"name":"partner_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"IP 화이트리스트를 조회할 파트너의 고유 ID","title":"Partner Id"},"description":"IP 화이트리스트를 조회할 파트너의 고유 ID","example":"f47ac10b-58cc-4372-a567-0e02b2c3d479"}],"responses":{"200":{"description":"IP 화이트리스트 조회 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PartnerIPList"}}}},"401":{"description":"인증되지 않은 접근","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"해당 파트너 IP 목록 조회 권한 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"지정한 파트너 ID를 찾을 수 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"IP 목록 조회 중 내부 서버 오류 발생","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Partner Management","Partner Management","Partner IP Whitelist","Partner Management"],"summary":"파트너 IP 화이트리스트 추가","description":"지정된 파트너 ID의 IP 화이트리스트에 새로운 IP 주소(IPv4 또는 IPv6) 또는 CIDR 블록을 추가합니다.\n    \n    - **파트너 (`whitelist.add.self` 권한):** 자신의 파트너 계정에 대한 IP만 추가 가능합니다.\n    - **관리자 (`whitelist.add.all` 권한):** 모든 파트너의 IP 목록에 추가할 수 있습니다.","operationId":"add_partner_ip_api_partners_partners__partner_id__whitelist_post","security":[{"ApiKeyAuth":[]}],"parameters":[{"name":"partner_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"IP를 추가할 파트너의 고유 ID","title":"Partner Id"},"description":"IP를 추가할 파트너의 고유 ID","example":"f47ac10b-58cc-4372-a567-0e02b2c3d479"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PartnerIPCreate"},"example":{"ip_address":"203.0.113.42","description":"Main Office IP"}}}},"responses":{"201":{"description":"IP 주소 또는 CIDR 블록 추가 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PartnerIP"}}}},"401":{"description":"인증되지 않은 접근","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"해당 파트너 IP 목록 추가 권한 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"지정한 파트너 ID를 찾을 수 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"409":{"description":"이미 등록된 IP 주소 또는 CIDR 블록","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"잘못된 IP 주소 또는 CIDR 형식","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"IP 주소 추가 중 내부 서버 오류 발생","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/api/partners/partners/{partner_id}/whitelist/{ip_id}":{"delete":{"tags":["Partner Management","Partner Management","Partner IP Whitelist","Partner Management"],"summary":"파트너 IP 화이트리스트에서 IP 제거","description":"지정된 파트너 ID의 IP 화이트리스트에서 특정 IP 항목(ID 기준)을 제거합니다.\n    \n    - **파트너 (`whitelist.remove.self` 권한):** 자신의 파트너 계정에 대한 IP만 제거 가능합니다.\n    - **관리자 (`whitelist.remove.all` 권한):** 모든 파트너의 IP 목록에서 제거할 수 있습니다.","operationId":"remove_partner_ip_api_partners_partners__partner_id__whitelist__ip_id__delete","security":[{"ApiKeyAuth":[]}],"parameters":[{"name":"partner_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"IP를 제거할 파트너의 고유 ID","title":"Partner Id"},"description":"IP를 제거할 파트너의 고유 ID","example":"f47ac10b-58cc-4372-a567-0e02b2c3d479"},{"name":"ip_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"제거할 IP 항목의 고유 ID","title":"Ip Id"},"description":"제거할 IP 항목의 고유 ID","example":"e1f2a3b4-c5d6-7890-1234-567890abcdef"}],"responses":{"204":{"description":"IP 주소 항목이 성공적으로 제거되었습니다."},"401":{"description":"인증되지 않은 접근","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"해당 파트너 IP 제거 권한 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"파트너 또는 지정된 ID의 IP 항목을 찾을 수 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"IP 주소 제거 중 내부 서버 오류 발생","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/games/games":{"get":{"tags":["Game Integration","Games & Providers"],"summary":"게임 목록 조회","description":"플랫폼에서 제공하고 파트너가 접근 가능한 게임 목록을 조회합니다. \n    페이지네이션, 필터링(이름, 제공자, 유형, 상태), 정렬 기능을 지원합니다.\n    \n    - **일반 파트너 (`games.read` 권한):** `active` 상태의 게임만 조회할 수 있으며, `status` 쿼리 파라미터는 무시됩니다.\n    - **관리자 (`games.admin` 권한):** 모든 상태의 게임을 조회하고 `status` 파라미터로 필터링할 수 있습니다.","operationId":"list_games_api_games_games_get","security":[{"ApiKeyAuth":[]}],"parameters":[{"name":"name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"게임 이름(name)으로 부분 문자열 검색 (대소문자 구분 없음)","title":"Name"},"description":"게임 이름(name)으로 부분 문자열 검색 (대소문자 구분 없음)","example":"Mega Wheel"},{"name":"provider_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"description":"특정 게임 제공자(provider)의 UUID로 필터링","title":"Provider Id"},"description":"특정 게임 제공자(provider)의 UUID로 필터링","example":"d290f1ee-6c54-4b01-90e6-d701748f0851"},{"name":"game_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"게임 유형(type) 필터링","title":"Game Type"},"description":"게임 유형(type) 필터링","example":"live_casino"},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string","pattern":"^(active|inactive|maintenance)$"},{"type":"null"}],"description":"게임 상태(status) 필터링 (관리자 전용: active, inactive, maintenance)","title":"Status"},"description":"게임 상태(status) 필터링 (관리자 전용: active, inactive, maintenance)","example":"active"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"결과 오프셋","default":0,"title":"Offset"},"description":"결과 오프셋"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"description":"페이지 당 결과 수","default":100,"title":"Limit"},"description":"페이지 당 결과 수"},{"name":"sort_by","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"정렬 기준 필드","title":"Sort By"},"description":"정렬 기준 필드"},{"name":"sort_order","in":"query","required":false,"schema":{"type":"string","description":"정렬 순서 (asc 또는 desc)","default":"asc","title":"Sort Order"},"description":"정렬 순서 (asc 또는 desc)"}],"responses":{"200":{"description":"게임 목록 조회 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GameList"}}}},"401":{"description":"인증되지 않은 접근","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"게임 목록 조회 권한 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"잘못된 필터, 정렬 또는 페이지네이션 파라미터","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"게임 목록 조회 중 내부 서버 오류 발생","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}},"post":{"tags":["Game Integration","Games & Providers"],"summary":"새 게임 생성 (관리자 전용)","description":"새로운 게임을 시스템에 등록합니다. 게임 코드(`external_id`)와 제공자(`provider_id`) 조합은 고유해야 합니다.\n    이 작업은 `games.create` 권한을 가진 관리자만 수행할 수 있습니다.","operationId":"create_game_api_games_games_post","security":[{"ApiKeyAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GameCreate"},"example":{"provider_id":"d290f1ee-6c54-4b01-90e6-d701748f0851","external_id":"vs20olympgate","name":"Gates of Olympus","type":"slot","rtp":96.5,"volatility":"high","status":"active","metadata":{"themes":["mythology","greek"],"features":["tumble","multiplier","free_spins"]}}}}},"responses":{"201":{"description":"게임 생성 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/backend__schemas__game__Game__2"}}}},"401":{"description":"인증되지 않은 접근","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"게임 생성 권한 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"409":{"description":"동일한 제공자의 동일한 외부 ID(external_id)를 가진 게임이 이미 존재함","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"요청 데이터 유효성 검사 오류 (예: 필수 필드 누락, 잘못된 형식, 존재하지 않는 provider_id)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"게임 생성 중 내부 서버 오류 발생","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"503":{"description":"지정된 게임 제공사가 현재 비활성 상태임","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/api/games/games/{game_id}":{"get":{"tags":["Game Integration","Games & Providers"],"summary":"특정 게임 상세 정보 조회","description":"지정된 ID의 게임 상세 정보를 조회합니다.\n    \n    - **일반 파트너 (`games.read` 권한):** `active` 상태의 게임 정보만 조회할 수 있습니다. 비활성 게임 조회 시 404 오류가 반환됩니다.\n    - **관리자 (`games.admin` 권한):** 모든 상태의 게임 정보를 조회할 수 있습니다.","operationId":"get_game_api_games_games__game_id__get","security":[{"ApiKeyAuth":[]}],"parameters":[{"name":"game_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"조회할 게임의 고유 ID","title":"Game Id"},"description":"조회할 게임의 고유 ID","example":"a1b2c3d4-e5f6-7890-1234-567890abcdef"}],"responses":{"200":{"description":"게임 정보 조회 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/backend__schemas__game__Game__2"}}}},"401":{"description":"인증되지 않은 접근","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"해당 게임 정보 조회 권한 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"지정한 ID의 게임을 찾을 수 없거나 접근 권한 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"게임 정보 조회 중 내부 서버 오류 발생","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Game Integration","Games & Providers"],"summary":"게임 정보 업데이트 (관리자 전용)","description":"지정된 ID의 게임 정보를 업데이트합니다. 요청 본문에 포함된 필드만 업데이트됩니다 (부분 업데이트).\n    이 작업은 `games.update` 권한을 가진 관리자만 수행할 수 있습니다.","operationId":"update_game_api_games_games__game_id__put","security":[{"ApiKeyAuth":[]}],"parameters":[{"name":"game_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"업데이트할 게임의 고유 ID","title":"Game Id"},"description":"업데이트할 게임의 고유 ID","example":"a1b2c3d4-e5f6-7890-1234-567890abcdef"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GameUpdate"},"example":{"rtp":96.55,"status":"maintenance","metadata":{"notice":"Scheduled maintenance 2-4 AM UTC"}}}}},"responses":{"200":{"description":"게임 정보 업데이트 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/backend__schemas__game__Game__2"}}}},"401":{"description":"인증되지 않은 접근","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"게임 정보 업데이트 권한 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"업데이트할 게임을 찾을 수 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"409":{"description":"수정하려는 정보가 다른 게임과 충돌 (예: external_id)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"요청 데이터 유효성 검사 오류","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"게임 정보 업데이트 중 내부 서버 오류 발생","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}},"delete":{"tags":["Game Integration","Games & Providers"],"summary":"게임 삭제 (관리자 전용)","description":"지정된 ID의 게임을 시스템에서 논리적으로 삭제합니다 (예: 상태를 `deleted`로 변경). \n    물리적 삭제는 정책에 따라 달라질 수 있습니다.\n    이 작업은 `games.delete` 권한을 가진 관리자만 수행할 수 있습니다.","operationId":"delete_game_api_games_games__game_id__delete","security":[{"ApiKeyAuth":[]}],"parameters":[{"name":"game_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"삭제할 게임의 고유 ID","title":"Game Id"},"description":"삭제할 게임의 고유 ID","example":"a1b2c3d4-e5f6-7890-1234-567890abcdef"}],"responses":{"204":{"description":"게임이 성공적으로 삭제(비활성) 처리되었습니다."},"401":{"description":"인증되지 않은 접근","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"게임 삭제 권한 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"삭제할 게임을 찾을 수 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"게임 삭제 처리 중 내부 서버 오류 발생","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/games/games/sessions":{"get":{"tags":["Game Integration","Games & Providers","Game Sessions"],"summary":"게임 세션 목록 조회","description":"게임 세션 목록을 조회합니다. 페이지네이션, 필터링(게임 ID, 플레이어 ID, 상태), 정렬 기능을 지원합니다.\n    \n    - **파트너 (`game_sessions.read.self` 권한):** 자신의 `partner_id` 와 연결된 세션만 조회할 수 있습니다.\n    - **관리자 (`game_sessions.read.all` 권한):** 모든 파트너의 게임 세션을 조회할 수 있습니다.","operationId":"list_game_sessions_api_games_games_sessions_get","security":[{"ApiKeyAuth":[]}],"parameters":[{"name":"game_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"description":"특정 게임 UUID로 세션 필터링","title":"Game Id"},"description":"특정 게임 UUID로 세션 필터링","example":"a1b2c3d4-e5f6-7890-1234-567890abcdef"},{"name":"player_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"특정 플레이어 ID(문자열)로 세션 필터링","title":"Player Id"},"description":"특정 플레이어 ID(문자열)로 세션 필터링","example":"user12345"},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string","pattern":"^(active|completed|terminated|error)$"},{"type":"null"}],"description":"세션 상태(status) 필터링","title":"Status"},"description":"세션 상태(status) 필터링","example":"active"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"결과 오프셋","default":0,"title":"Offset"},"description":"결과 오프셋"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"description":"페이지 당 결과 수","default":100,"title":"Limit"},"description":"페이지 당 결과 수"},{"name":"sort_by","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"정렬 기준 필드","title":"Sort By"},"description":"정렬 기준 필드"},{"name":"sort_order","in":"query","required":false,"schema":{"type":"string","description":"정렬 순서 (asc 또는 desc)","default":"asc","title":"Sort Order"},"description":"정렬 순서 (asc 또는 desc)"}],"responses":{"200":{"description":"게임 세션 목록 조회 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GameSessionList"}}}},"401":{"description":"인증되지 않은 접근","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"게임 세션 목록 조회 권한 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"잘못된 필터, 정렬 또는 페이지네이션 파라미터","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"게임 세션 목록 조회 중 내부 서버 오류 발생","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}},"post":{"tags":["Game Integration","Games & Providers","Game Sessions"],"summary":"새 게임 세션 생성","description":"플레이어가 특정 게임을 시작하기 위한 새로운 게임 세션을 생성합니다.\n    요청 시 게임의 활성 상태 및 제공자의 활성 상태를 확인합니다.\n    파트너는 자신의 `partner_id`로만 세션을 생성할 수 있습니다.","operationId":"create_game_session_api_games_games_sessions_post","security":[{"ApiKeyAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GameSessionCreate"},"example":{"game_id":"GAME_UUID_HERE","player_id":"PLAYER_UUID_HERE","currency":"USD","metadata":{"client_type":"desktop","language":"en"}}}}},"responses":{"201":{"description":"게임 세션 생성 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GameSession"}}}},"400":{"description":"잘못된 입력값 (예: 형식 오류 아닌 논리적 오류)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"401":{"description":"인증되지 않은 접근","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"해당 게임에 대한 세션 생성 권한 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"세션 생성을 위한 게임 정보를 찾을 수 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"409":{"description":"플레이어의 동일 게임 활성 세션이 이미 존재함","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"요청 데이터 유효성 오류 (Pydantic schema validation)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"게임 세션 생성 중 내부 서버 오류 발생","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"503":{"description":"게임 또는 게임 제공사가 현재 이용 불가 상태","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/api/games/games/sessions/{session_id}":{"get":{"tags":["Game Integration","Games & Providers","Game Sessions"],"summary":"특정 게임 세션 상세 정보 조회","description":"지정된 ID의 게임 세션 상세 정보를 조회합니다. \n    \n    - **파트너 (`game_sessions.read.self` 권한):** 자신의 `partner_id` 와 연결된 세션만 조회할 수 있습니다.\n    - **관리자 (`game_sessions.read.all` 권한):** 모든 게임 세션을 ID로 조회할 수 있습니다.","operationId":"get_game_session_api_games_games_sessions__session_id__get","security":[{"ApiKeyAuth":[]}],"parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"조회할 게임 세션의 고유 ID","title":"Session Id"},"description":"조회할 게임 세션의 고유 ID","example":"a1b2c3d4-1234-5678-90ab-cdef12345678"}],"responses":{"200":{"description":"게임 세션 정보 조회 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GameSession"}}}},"401":{"description":"인증되지 않은 접근","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"해당 게임 세션 조회 권한 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"지정한 ID의 게임 세션을 찾을 수 없거나 접근 권한 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"게임 세션 정보 조회 중 내부 서버 오류 발생","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/games/games/providers":{"get":{"tags":["Game Integration","Games & Providers","Game Providers"],"summary":"게임 제공사 목록 조회","description":"플랫폼에 연동된 게임 제공사 목록을 조회합니다.\n    - 일반 파트너는 `active` 상태의 제공사 정보만 조회할 수 있습니다.\n    - 관리자(`games.admin` 권한)는 모든 상태의 제공사 정보 및 API URL을 조회할 수 있습니다.","operationId":"list_game_providers_api_games_games_providers_get","security":[{"ApiKeyAuth":[]}],"parameters":[{"name":"name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"제공사 이름으로 부분 문자열 검색","title":"Name"},"description":"제공사 이름으로 부분 문자열 검색"},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"제공사 상태 필터링 (예: active, inactive)","title":"Status"},"description":"제공사 상태 필터링 (예: active, inactive)","example":"active"},{"name":"integration_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"통합 유형 필터링 (예: direct, aggregator)","title":"Integration Type"},"description":"통합 유형 필터링 (예: direct, aggregator)","example":"direct"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"결과 오프셋","default":0,"title":"Offset"},"description":"결과 오프셋"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"description":"페이지 당 결과 수","default":100,"title":"Limit"},"description":"페이지 당 결과 수"},{"name":"sort_by","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"정렬 기준 필드","title":"Sort By"},"description":"정렬 기준 필드"},{"name":"sort_order","in":"query","required":false,"schema":{"type":"string","description":"정렬 순서 (asc 또는 desc)","default":"asc","title":"Sort Order"},"description":"정렬 순서 (asc 또는 desc)"}],"responses":{"200":{"description":"게임 제공사 목록 조회 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GameProviderList"}}}},"401":{"description":"인증되지 않은 접근","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"게임 제공사 목록 조회 권한 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"잘못된 필터 또는 정렬 파라미터"},"500":{"description":"게임 제공사 목록 조회 중 내부 서버 오류 발생","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/api/wallet/wallet/{player_id}/balance":{"get":{"tags":["Wallet","Wallet Operations"],"summary":"플레이어 지갑 잔액 조회","description":"지정된 플레이어 ID의 현재 지갑 잔액과 통화를 조회합니다. \n    파트너는 자신이 관리하는 플레이어(`partner_id` 일치)의 잔액만 조회할 수 있습니다.","operationId":"get_player_balance_api_wallet_wallet__player_id__balance_get","security":[{"ApiKeyAuth":[]}],"parameters":[{"name":"player_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"잔액을 조회할 플레이어의 고유 ID","title":"Player Id"},"description":"잔액을 조회할 플레이어의 고유 ID","example":"f47ac10b-58cc-4372-a567-0e02b2c3d479"}],"responses":{"200":{"description":"잔액 조회 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BalanceResponse"}}}},"401":{"description":"인증되지 않은 접근","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"해당 플레이어 지갑 조회 권한 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"지정한 플레이어 ID에 해당하는 지갑을 찾을 수 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"잔액 조회 중 내부 서버 오류 발생","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/wallet/wallet/{player_id}/deposit":{"post":{"tags":["Wallet","Wallet Operations"],"summary":"플레이어 지갑 입금 처리","description":"지정된 플레이어 지갑에 자금을 입금(Credit)합니다. \n    `reference_id`는 이 입금 요청을 고유하게 식별하며, 멱등성 키로 사용됩니다.\n    \n    - 동일한 `reference_id`로 재요청 시, 이미 성공적으로 처리된 경우 기존 트랜잭션 정보를 포함하여 **200 OK**를 반환합니다.\n    - 파트너는 자신이 관리하는 플레이어(`partner_id` 일치)에게만 입금할 수 있습니다.\n    - 입금 성공 시 AML 분석을 위한 백그라운드 작업이 예약될 수 있습니다.","operationId":"deposit_funds_api_wallet_wallet__player_id__deposit_post","security":[{"ApiKeyAuth":[]}],"parameters":[{"name":"player_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"입금 대상 플레이어의 고유 ID","title":"Player Id"},"description":"입금 대상 플레이어의 고유 ID","example":"f47ac10b-58cc-4372-a567-0e02b2c3d479"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionRequest"},"example":{"reference_id":"deposit_tx_1699887766","amount":"100.50","currency":"KRW","metadata":{"source":"Bank Transfer","channel":"mobile_app"}}}}},"responses":{"201":{"description":"입금 성공 및 트랜잭션 생성됨","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WalletActionResponse"}}}},"200":{"description":"이미 처리된 트랜잭션 (멱등성 보장)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WalletActionResponse"}}}},"401":{"description":"인증되지 않은 접근","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"해당 플레이어 지갑 입금 권한 없음 또는 파트너 불일치","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"지정한 플레이어 ID에 해당하는 지갑을 찾을 수 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"409":{"description":"트랜잭션 참조 ID(reference_id)가 이미 사용 중 (다른 요청 또는 완료되지 않은 요청)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"요청 데이터 유효성 오류 (금액, 통화 형식 등) 또는 통화 불일치","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"입금 처리 중 내부 서버 오류 발생","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/api/wallet/wallet/{player_id}/withdraw":{"post":{"tags":["Wallet","Wallet Operations"],"summary":"플레이어 지갑 출금 처리","description":"지정된 플레이어 지갑에서 자금을 출금(Debit)합니다. \n    `reference_id`는 이 출금 요청을 고유하게 식별하며, 멱등성 키로 사용됩니다.\n    \n    - 동일한 `reference_id`로 재요청 시, 이미 성공적으로 처리된 경우 기존 트랜잭션 정보를 포함하여 **200 OK**를 반환합니다.\n    - 파트너는 자신이 관리하는 플레이어(`partner_id` 일치)에게서만 출금할 수 있습니다.\n    - 잔액 부족 시 **402 Payment Required** 오류를 반환합니다.\n    - 출금 성공 시 AML 분석을 위한 백그라운드 작업이 예약될 수 있습니다.","operationId":"withdraw_funds_api_wallet_wallet__player_id__withdraw_post","security":[{"ApiKeyAuth":[]}],"parameters":[{"name":"player_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"출금 대상 플레이어의 고유 ID","title":"Player Id"},"description":"출금 대상 플레이어의 고유 ID","example":"f47ac10b-58cc-4372-a567-0e02b2c3d479"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionRequest"},"example":{"reference_id":"withdraw_tx_1699887800","amount":"50.00","currency":"KRW","metadata":{"destination":"User Bank Account **** **** 1234","reason":"Player withdrawal request"}}}}},"responses":{"200":{"description":"출금 성공 또는 이미 처리된 트랜잭션 (멱등성 보장)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WalletActionResponse"}}}},"401":{"description":"인증되지 않은 접근","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"402":{"description":"지갑 잔액 부족","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"해당 플레이어 지갑 출금 권한 없음 또는 파트너 불일치","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"지정한 플레이어 ID에 해당하는 지갑을 찾을 수 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"409":{"description":"트랜잭션 참조 ID(reference_id)가 이미 사용 중 (다른 요청 또는 완료되지 않은 요청)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"요청 데이터 유효성 오류 (금액, 통화 형식 등) 또는 통화 불일치","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"출금 처리 중 내부 서버 오류 발생","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/api/wallet/wallet/{player_id}/bet":{"post":{"tags":["Wallet","Wallet Operations","Game Transactions"],"summary":"플레이어 게임 베팅 처리","description":"플레이어의 게임 베팅을 처리하고 지갑 잔액을 차감(Debit)합니다.\n    `reference_id`는 이 베팅 요청을 고유하게 식별하며, 멱등성 키로 사용됩니다.\n    \n    - 동일한 `reference_id`로 재요청 시, 이미 성공적으로 처리된 경우 기존 트랜잭션 정보를 포함하여 **200 OK**를 반환합니다.\n    - 파트너는 자신이 관리하는 플레이어(`partner_id` 일치)의 베팅만 처리할 수 있습니다.\n    - 잔액 부족 시 **402 Payment Required** 오류를 반환합니다.\n    - 베팅 성공 시 AML 분석을 위한 백그라운드 작업이 예약될 수 있습니다.","operationId":"place_bet_api_wallet_wallet__player_id__bet_post","security":[{"ApiKeyAuth":[]}],"parameters":[{"name":"player_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"베팅 플레이어의 고유 ID","title":"Player Id"},"description":"베팅 플레이어의 고유 ID","example":"f47ac10b-58cc-4372-a567-0e02b2c3d479"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionRequest"},"example":{"reference_id":"bet_round_1699887900_a","amount":"10.00","currency":"KRW","metadata":{"game_id":"a1b2c3d4-e5f6-7890-1234-567890abcdef","round_id":"round_556677","bet_type":"straight_up"}}}}},"responses":{"200":{"description":"베팅 성공 또는 이미 처리된 베팅 트랜잭션 (멱등성 보장)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionResponse"}}}},"401":{"description":"인증되지 않은 접근","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"402":{"description":"지갑 잔액 부족","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"해당 플레이어 베팅 처리 권한 없음 또는 파트너 불일치","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"지정한 플레이어 ID에 해당하는 지갑을 찾을 수 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"409":{"description":"트랜잭션 참조 ID(reference_id)가 이미 사용 중 (다른 요청 또는 완료되지 않은 요청)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"요청 데이터 유효성 오류 (금액, 통화 형식 등) 또는 통화 불일치","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"베팅 처리 중 내부 서버 오류 발생","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/api/wallet/wallet/{player_id}/win":{"post":{"tags":["Wallet","Wallet Operations","Game Transactions"],"summary":"플레이어 게임 승리 기록","description":"플레이어의 게임 승리 결과를 기록하고 지갑 잔액을 증가(Credit)시킵니다.\n    `reference_id`는 이 승리 기록 요청을 고유하게 식별하며, 멱등성 키로 사용됩니다.\n    \n    - 동일한 `reference_id`로 재요청 시, 이미 성공적으로 처리된 경우 기존 트랜잭션 정보를 포함하여 **200 OK**를 반환합니다.\n    - 파트너는 자신이 관리하는 플레이어(`partner_id` 일치)의 승리만 기록할 수 있습니다.\n    - 승리 기록 성공 시 AML 분석을 위한 백그라운드 작업이 예약될 수 있습니다.","operationId":"record_win_api_wallet_wallet__player_id__win_post","security":[{"ApiKeyAuth":[]}],"parameters":[{"name":"player_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"승리 기록 대상 플레이어의 고유 ID","title":"Player Id"},"description":"승리 기록 대상 플레이어의 고유 ID","example":"f47ac10b-58cc-4372-a567-0e02b2c3d479"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionRequest"},"example":{"reference_id":"win_round_1699887900_a","amount":"25.50","currency":"KRW","metadata":{"game_id":"a1b2c3d4-e5f6-7890-1234-567890abcdef","round_id":"round_556677","payout":2.55}}}}},"responses":{"201":{"description":"승리 기록 성공 및 트랜잭션 생성됨","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionResponse"}}}},"200":{"description":"이미 처리된 트랜잭션 (멱등성 보장)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionResponse"}}}},"401":{"description":"인증되지 않은 접근","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"해당 플레이어 승리 기록 권한 없음 또는 파트너 불일치","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"지정한 플레이어 ID에 해당하는 지갑을 찾을 수 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"409":{"description":"트랜잭션 참조 ID(reference_id)가 이미 사용 중 (다른 요청 또는 완료되지 않은 요청)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"요청 데이터 유효성 오류 (금액, 통화 형식 등) 또는 통화 불일치","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"승리 기록 중 내부 서버 오류 발생","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/api/wallet/wallet/{player_id}/rollback":{"post":{"tags":["Wallet","Wallet Operations","Wallet Transactions"],"summary":"트랜잭션 롤백 처리","description":"이전에 발생한 특정 트랜잭션(주로 베팅 또는 승리)의 효과를 취소(Rollback)합니다. \n    예를 들어, 베팅 롤백 시 차감되었던 금액이 플레이어에게 환불됩니다.\n    \n    - `reference_id`는 이 롤백 요청 자체를 고유하게 식별하며, 멱등성 키로 사용됩니다.\n    - `original_reference_id`는 롤백 대상이 되는 원래 트랜잭션(베팅 또는 승리)의 `reference_id`입니다.\n    - 동일한 `reference_id` (롤백 요청 ID)로 재요청 시, 이미 성공적으로 처리된 경우 기존 롤백 트랜잭션 정보를 포함하여 **200 OK**를 반환합니다.\n    - 파트너는 자신이 관리하는 플레이어(`partner_id` 일치)의 트랜잭션만 롤백할 수 있습니다.\n    - 원본 트랜잭션이 존재하지 않거나 이미 롤백된 경우 오류가 발생합니다.\n    - 롤백 성공 시 AML 분석을 위한 백그라운드 작업이 예약될 수 있습니다.","operationId":"rollback_transaction_api_wallet_wallet__player_id__rollback_post","security":[{"ApiKeyAuth":[]}],"parameters":[{"name":"player_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"롤백 대상 플레이어의 고유 ID","title":"Player Id"},"description":"롤백 대상 플레이어의 고유 ID","example":"f47ac10b-58cc-4372-a567-0e02b2c3d479"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RollbackRequest"},"example":{"reference_id":"rollback_bet_round_1699887900_a","original_reference_id":"bet_round_1699887900_a","metadata":{"reason":"Game round cancelled due to technical issue"}}}}},"responses":{"200":{"description":"롤백 성공 또는 이미 처리된 롤백 트랜잭션 (멱등성 보장)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionResponse"}}}},"401":{"description":"인증되지 않은 접근","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"해당 트랜잭션 롤백 권한 없음 또는 파트너 불일치","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"원본 트랜잭션(`original_reference_id`) 또는 플레이어/지갑을 찾을 수 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"409":{"description":"이미 롤백된 트랜잭션이거나 롤백 불가능한 상태 / 또는 롤백 요청 참조 ID 중복","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"요청 데이터 유효성 오류","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"롤백 처리 중 내부 서버 오류 발생","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/api/wallet/wallet/{player_id}/transactions":{"get":{"tags":["Wallet","Wallet Operations","Wallet Transactions"],"summary":"플레이어 거래 내역 조회","description":"지정된 플레이어 ID의 거래 내역(입금, 출금, 베팅, 승리, 롤백 등)을 조회합니다.\n    페이지네이션, 날짜 범위 필터링, 거래 유형 필터링을 지원합니다.\n    \n    - **파트너 (`wallet.transactions.read.self` 권한):** 자신이 관리하는 플레이어(`partner_id` 일치)의 거래 내역만 조회할 수 있습니다.\n    - **관리자 (`wallet.transactions.read.all` 권한):** 모든 플레이어의 거래 내역을 조회할 수 있습니다.","operationId":"get_player_transactions_api_wallet_wallet__player_id__transactions_get","security":[{"ApiKeyAuth":[]}],"parameters":[{"name":"player_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"거래 내역을 조회할 플레이어의 고유 ID","title":"Player Id"},"description":"거래 내역을 조회할 플레이어의 고유 ID","example":"f47ac10b-58cc-4372-a567-0e02b2c3d479"},{"name":"type","in":"query","required":false,"schema":{"anyOf":[{"type":"string","pattern":"^(DEPOSIT|WITHDRAW|BET|WIN|ROLLBACK|ADJUSTMENT)$"},{"type":"null"}],"description":"필터링할 거래 유형(transaction_type)","title":"Type"},"description":"필터링할 거래 유형(transaction_type)","example":"BET"},{"name":"reference_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"특정 참조 ID(reference_id)로 필터링","title":"Reference Id"},"description":"특정 참조 ID(reference_id)로 필터링","example":"bet_round_1699887900_a"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"결과 오프셋","default":0,"title":"Offset"},"description":"결과 오프셋"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"description":"페이지 당 결과 수","default":100,"title":"Limit"},"description":"페이지 당 결과 수"},{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"시작 날짜 (YYYY-MM-DD)","title":"Start Date"},"description":"시작 날짜 (YYYY-MM-DD)"},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"종료 날짜 (YYYY-MM-DD)","title":"End Date"},"description":"종료 날짜 (YYYY-MM-DD)"}],"responses":{"200":{"description":"거래 내역 조회 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionList"}}}},"401":{"description":"인증되지 않은 접근","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"해당 플레이어 거래 내역 조회 권한 없음 또는 파트너 불일치","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"지정한 플레이어 ID를 찾을 수 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"잘못된 날짜 형식 또는 필터 파라미터","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"거래 내역 조회 중 내부 서버 오류 발생","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/api/reports/types":{"get":{"tags":["Reporting","Reports"],"summary":"사용 가능한 보고서 유형 목록 조회","description":"현재 파트너가 생성 요청할 수 있는 보고서 유형의 목록을 반환합니다.\n    각 유형은 고유 ID, 코드, 이름, 설명 및 생성 시 필요한 파라미터 정보(`parameters`)와 지원하는 파일 형식(`available_formats`)을 포함할 수 있습니다.\n\n    **권한 요구사항:** `reports.types.read`","operationId":"list_report_types_api_reports_types_get","responses":{"200":{"description":"보고서 유형 목록 조회 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReportTypeList"},"example":{"items":[{"id":"a1b2c3d4-e5f6-7890-1234-567890abcdef","code":"PLAYER_ACTIVITY","name":"Player Activity Report","description":"Detailed report of player activities including bets, wins, and sessions.","available_formats":["csv","json"],"parameters":{"date_from":{"type":"date","required":true},"date_to":{"type":"date","required":true},"min_bet_count":{"type":"integer","required":false,"default":0}}}],"count":1}}}},"401":{"description":"인증되지 않은 접근","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"},"example":{"error":{"code":"AUTH_401_UNAUTHORIZED","message":"Authentication required"}}}}},"403":{"description":"보고서 유형 조회 권한 없음 (`reports.types.read` 필요)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"},"example":{"error":{"code":"AUTH_403_FORBIDDEN","message":"Permission denied: reports.types.read required"}}}}},"500":{"description":"서버 내부 오류 발생","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"},"example":{"error":{"code":"SYS_500_INTERNAL_ERROR","message":"An unexpected error occurred"}}}}}},"security":[{"ApiKeyAuth":[]}]}},"/api/reports":{"post":{"tags":["Reporting","Reports"],"summary":"새 보고서 생성 요청 (비동기)","description":"지정된 유형(`report_type_id`)과 파라미터(`parameters`)로 새로운 보고서 생성을 **비동기적으로 요청**합니다.\n\n    - **요청 성공 시 (202 Accepted):** 즉시 보고서 메타데이터(ID, 초기 상태 'pending' 등)를 반환합니다. 실제 보고서 파일 생성은 백그라운드에서 수행됩니다.\n    - **생성 진행 상태:** 생성된 보고서의 상태(`status`)는 보고서 목록 조회(`GET /reports`) 또는 상세 조회(`GET /reports/{report_id}`) API를 통해 주기적으로 확인해야 합니다 (pending -> processing -> completed / failed).\n    - **파라미터 유효성:** 요청된 보고서 유형에 필요한 파라미터가 누락되거나 형식이 잘못된 경우 `422 Unprocessable Entity` 오류가 발생합니다.\n    - **권한:** 파트너는 자신에게 허용된 보고서 유형(`report_type_id`)만 생성할 수 있습니다.\n\n    **권한 요구사항:** `reports.generate`","operationId":"request_report_generation_api_reports_post","security":[{"ApiKeyAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReportCreate"},"example":{"report_type_id":"REPORT_TYPE_UUID","format":"csv","name":"Monthly Player Activity Report - Oct 2024","parameters":{"month":"2024-10","min_bet_count":100}}}}},"responses":{"202":{"description":"보고서 생성 요청 접수 성공 (백그라운드 처리 시작)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReportResponse"},"example":{"id":"b2c3d4e5-f6a7-8901-2345-67890abcdef1","partner_id":"c3d4e5f6-a7b8-9012-3456-7890abcdef12","report_type":{"id":"a1b2c3d4-e5f6-7890-1234-567890abcdef","code":"PLAYER_ACTIVITY","name":"Player Activity Report","description":"Detailed report of player activities...","available_formats":["csv","json"],"parameters":{"date_from":{},"date_to":{}}},"name":"Monthly Player Activity Report - Oct 2024","status":"pending","format":"csv","parameters":{"date_from":"2024-10-01","date_to":"2024-10-31"},"created_at":"2024-11-01T10:00:00Z"}}}},"401":{"description":"인증되지 않은 접근","content":{"application/json":{"example":{"error":{"code":"AUTH_401_UNAUTHORIZED","message":"Authentication required"}},"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"해당 보고서 유형 생성 권한 없음 (`reports.generate` 필요)","content":{"application/json":{"example":{"error":{"code":"AUTH_403_FORBIDDEN","message":"Permission denied: reports.generate required or report type not allowed"}},"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"요청한 보고서 유형 (`report_type_id`)을 찾을 수 없음","content":{"application/json":{"example":{"error":{"code":"REPORT_404_TYPE_NOT_FOUND","message":"Report type with ID a1b2c3d4... not found"}},"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"요청 본문 유효성 검증 실패 (필수 필드 누락, 잘못된 포맷, 유효하지 않은 파라미터 값 등)","content":{"application/json":{"example":{"error":{"code":"REPORT_422_INVALID_PARAMS","message":"Invalid parameter value for 'month': '2024-13'"}},"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"보고서 생성 요청 처리 중 서버 내부 오류 발생","content":{"application/json":{"example":{"error":{"code":"SYS_500_INTERNAL_ERROR","message":"Failed to initiate report generation"}},"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}},"get":{"tags":["Reporting","Reports"],"summary":"생성된 보고서 목록 조회 (페이지네이션)","description":"현재 파트너가 생성 요청했거나 접근 권한이 있는 보고서들의 목록을 조회합니다.\n    다양한 필터(보고서 유형 ID, 상태, 생성일자 범위)와 페이지네이션을 지원합니다.\n\n    - **report_type_id:** 특정 보고서 유형으로 필터링합니다.\n    - **status:** 보고서 상태(`pending`, `processing`, `completed`, `failed`)로 필터링합니다.\n    - **start_date / end_date:** 보고서 생성 요청일(`created_at`) 기준으로 기간 필터링합니다.\n    - **page / page_size:** 결과를 페이지 단위로 나누어 조회합니다.\n\n    **권한 요구사항:** `reports.read`","operationId":"list_reports_api_reports_get","security":[{"ApiKeyAuth":[]}],"parameters":[{"name":"report_type_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"description":"필터링할 보고서 유형의 고유 ID","title":"Report Type Id"},"description":"필터링할 보고서 유형의 고유 ID"},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string","pattern":"^(pending|processing|completed|failed)$"},{"type":"null"}],"description":"필터링할 보고서 상태 (pending, processing, completed, failed)","title":"Status"},"description":"필터링할 보고서 상태 (pending, processing, completed, failed)","example":"completed"},{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"시작 날짜 (YYYY-MM-DD)","title":"Start Date"},"description":"시작 날짜 (YYYY-MM-DD)"},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"종료 날짜 (YYYY-MM-DD)","title":"End Date"},"description":"종료 날짜 (YYYY-MM-DD)"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"결과 오프셋","default":0,"title":"Offset"},"description":"결과 오프셋"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"description":"페이지 당 결과 수","default":100,"title":"Limit"},"description":"페이지 당 결과 수"}],"responses":{"200":{"description":"보고서 목록 조회 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReportList"},"example":{"items":[{"id":"b2c3d4e5-f6a7-8901-2345-67890abcdef1","partner_id":"c3d4e5f6-a7b8-9012-3456-7890abcdef12","report_type":{"id":"a1b2...","code":"PLAYER_ACTIVITY","name":"Player Activity Report"},"name":"Monthly Player Activity - Oct 2024","status":"completed","format":"csv","parameters":{"date_from":"2024-10-01","date_to":"2024-10-31"},"created_at":"2024-11-01T10:00:00Z","completed_at":"2024-11-01T10:15:30Z","file_size":102400}],"total":1,"page":1,"page_size":10,"meta":{"total_items":1,"total_pages":1,"current_page":1,"page_size":10}}}}},"401":{"description":"인증되지 않은 접근","content":{"application/json":{"example":{"error":{"code":"AUTH_401_UNAUTHORIZED","message":"Authentication required"}},"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"보고서 목록 조회 권한 없음 (`reports.read` 필요)","content":{"application/json":{"example":{"error":{"code":"AUTH_403_FORBIDDEN","message":"Permission denied: reports.read required"}},"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"잘못된 필터 파라미터 형식 또는 값 (예: 날짜 형식 오류, 잘못된 상태 값)","content":{"application/json":{"example":{"error":{"code":"REPORT_422_INVALID_FILTER","message":"Invalid date format for 'start_date'"}},"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"보고서 목록 조회 중 서버 내부 오류 발생","content":{"application/json":{"example":{"error":{"code":"SYS_500_INTERNAL_ERROR","message":"Failed to retrieve reports"}},"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/api/reports/{report_id}":{"get":{"tags":["Reporting","Reports"],"summary":"특정 보고서 상세 정보 조회","description":"지정된 보고서 ID(`report_id`)에 해당하는 보고서의 상세 정보를 조회합니다.\n    보고서의 현재 상태(`status`), 생성 파라미터(`parameters`), 완료 시간(`completed_at`), 파일 크기(`file_size`, 완료 시), 오류 메시지(`error_message`, 실패 시) 등을 포함합니다.\n    파트너는 자신이 요청한 보고서만 조회할 수 있습니다.\n\n    **권한 요구사항:** `reports.read`","operationId":"get_report_api_reports__report_id__get","security":[{"ApiKeyAuth":[]}],"parameters":[{"name":"report_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"상세 정보를 조회할 보고서의 고유 ID","title":"Report Id"},"description":"상세 정보를 조회할 보고서의 고유 ID"}],"responses":{"200":{"description":"보고서 상세 정보 조회 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReportResponse"},"example":{"id":"b2c3d4e5-f6a7-8901-2345-67890abcdef1","partner_id":"c3d4e5f6-a7b8-9012-3456-7890abcdef12","report_type":{"id":"a1b2...","code":"PLAYER_ACTIVITY","name":"Player Activity Report"},"name":"Monthly Player Activity - Oct 2024","status":"completed","format":"csv","parameters":{"date_from":"2024-10-01","date_to":"2024-10-31"},"created_at":"2024-11-01T10:00:00Z","completed_at":"2024-11-01T10:15:30Z","file_size":102400}}}},"401":{"description":"인증되지 않은 접근","content":{"application/json":{"example":{"error":{"code":"AUTH_401_UNAUTHORIZED","message":"Authentication required"}},"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"해당 보고서 조회 권한 없음 (`reports.read` 필요 또는 다른 파트너의 보고서)","content":{"application/json":{"example":{"error":{"code":"AUTH_403_FORBIDDEN","message":"Permission denied to access report b2c3..."}},"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"지정한 ID의 보고서를 찾을 수 없음","content":{"application/json":{"example":{"error":{"code":"REPORT_404_NOT_FOUND","message":"Report with ID b2c3... not found"}},"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"보고서 정보 조회 중 서버 내부 오류 발생","content":{"application/json":{"example":{"error":{"code":"SYS_500_INTERNAL_ERROR","message":"Failed to retrieve report details"}},"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/reports/{report_id}/download":{"get":{"tags":["Reporting","Reports"],"summary":"보고서 파일 다운로드","description":"생성이 완료된 (`status`가 `completed`인) 특정 보고서 파일을 다운로드합니다.\n\n    - **성공 시:** 보고서 파일(`content-type`은 보고서 포맷에 따라 다름, 예: `text/csv`, `application/json`)을 스트리밍으로 반환합니다. `Content-Disposition` 헤더에 파일명이 포함됩니다.\n    - **실패 조건:**\n        - 보고서가 아직 생성 중(`pending`, `processing`)이거나 실패(`failed`)한 경우 `422 Unprocessable Entity` 오류가 발생합니다.\n        - 보고서 파일 자체를 찾을 수 없는 경우(드문 경우) `404 Not Found` 오류가 발생합니다.\n\n    파트너는 자신이 요청한 보고서만 다운로드할 수 있습니다.\n\n    **권한 요구사항:** `reports.download`","operationId":"download_report_api_reports__report_id__download_get","security":[{"ApiKeyAuth":[]}],"parameters":[{"name":"report_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"다운로드할 보고서의 고유 ID","title":"Report Id"},"description":"다운로드할 보고서의 고유 ID"}],"responses":{"200":{"description":"보고서 파일 다운로드 성공","content":{"application/json":{"schema":{}},"application/octet-stream":{"schema":{"type":"string","format":"binary"}},"text/csv":{"schema":{"type":"string"}}}},"401":{"description":"인증되지 않은 접근","content":{"application/json":{"example":{"error":{"code":"AUTH_401_UNAUTHORIZED","message":"Authentication required"}},"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"해당 보고서 다운로드 권한 없음 (`reports.download` 필요 또는 다른 파트너 보고서)","content":{"application/json":{"example":{"error":{"code":"AUTH_403_FORBIDDEN","message":"Permission denied to download report b2c3..."}},"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"지정한 ID의 보고서 또는 생성된 파일을 찾을 수 없음","content":{"application/json":{"example":{"error":{"code":"REPORT_404_FILE_NOT_FOUND","message":"Report file for ID b2c3... not found or report does not exist"}},"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"보고서가 다운로드 가능한 상태가 아님 (예: 아직 생성 중 또는 실패)","content":{"application/json":{"example":{"error":{"code":"REPORT_422_NOT_COMPLETED","message":"Report b2c3... is not in 'completed' status"}},"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"파일 다운로드 처리 중 서버 내부 오류 발생","content":{"application/json":{"example":{"error":{"code":"SYS_500_INTERNAL_ERROR","message":"Failed to process report download"}},"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/api/reports/settlements":{"get":{"tags":["Reporting","Settlements"],"summary":"정산 내역 목록 조회 (페이지네이션)","description":"현재 파트너의 정산 내역 목록을 조회합니다.\n    기간(`start_date`, `end_date`) 및 정산 상태(`status`)별 필터링과 페이지네이션을 지원합니다.\n\n    **참고:** 정산 기능이 활성화되지 않았거나 관련 서비스(`SettlementService`)가 구현되지 않은 경우 503 오류가 발생할 수 있습니다.\n\n    **권한 요구사항:** `settlements.read`","operationId":"list_settlements_api_reports_settlements_get","security":[{"ApiKeyAuth":[]}],"parameters":[{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"필터링할 정산 상태 (예: pending, processing, completed, failed)","title":"Status"},"description":"필터링할 정산 상태 (예: pending, processing, completed, failed)","example":"completed"},{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"시작 날짜 (YYYY-MM-DD)","title":"Start Date"},"description":"시작 날짜 (YYYY-MM-DD)"},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"종료 날짜 (YYYY-MM-DD)","title":"End Date"},"description":"종료 날짜 (YYYY-MM-DD)"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"결과 오프셋","default":0,"title":"Offset"},"description":"결과 오프셋"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"description":"페이지 당 결과 수","default":100,"title":"Limit"},"description":"페이지 당 결과 수"}],"responses":{"200":{"description":"정산 내역 목록 조회 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SettlementList"},"example":{"items":[{"id":"d4e5f6a7-b8c9-0123-4567-890abcdef123","partner_id":"c3d4e5f6-a7b8-9012-3456-7890abcdef12","period_start":"2024-10-01T00:00:00Z","period_end":"2024-10-31T23:59:59Z","status":"completed","amount":15000.5,"currency":"USD","created_at":"2024-11-05T11:00:00Z","processed_at":"2024-11-06T15:30:00Z"}],"meta":{"total_items":1,"total_pages":1,"current_page":1,"page_size":10}}}}},"401":{"description":"인증되지 않은 접근","content":{"application/json":{"example":{"error":{"code":"AUTH_401_UNAUTHORIZED","message":"Authentication required"}},"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"정산 내역 조회 권한 없음 (`settlements.read` 필요)","content":{"application/json":{"example":{"error":{"code":"AUTH_403_FORBIDDEN","message":"Permission denied: settlements.read required"}},"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"잘못된 필터 파라미터 형식 또는 값","content":{"application/json":{"example":{"error":{"code":"SETTLE_422_INVALID_FILTER","message":"Invalid status filter value"}},"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"정산 내역 조회 중 서버 내부 오류 발생","content":{"application/json":{"example":{"error":{"code":"SYS_500_INTERNAL_ERROR","message":"Failed to retrieve settlements"}},"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"503":{"description":"정산 서비스를 현재 사용할 수 없음 (미구현 또는 일시적 오류)","content":{"application/json":{"example":{"error":{"code":"SYS_503_SERVICE_UNAVAILABLE","message":"Settlement service is currently unavailable"}},"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/api/reports/settlements/{settlement_id}":{"get":{"tags":["Reporting","Settlements"],"summary":"특정 정산 내역 상세 조회","description":"지정된 정산 ID(`settlement_id`)에 해당하는 정산 내역의 상세 정보를 조회합니다.\n    정산 기간, 금액, 통화, 상태, 처리 일시 등을 포함합니다.\n    파트너는 자신의 정산 내역만 조회할 수 있습니다.\n\n    **참고:** 정산 기능이 활성화되지 않았거나 관련 서비스(`SettlementService`)가 구현되지 않은 경우 503 오류가 발생할 수 있습니다.\n\n    **권한 요구사항:** `settlements.read`","operationId":"get_settlement_api_reports_settlements__settlement_id__get","security":[{"ApiKeyAuth":[]}],"parameters":[{"name":"settlement_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"상세 정보를 조회할 정산 내역의 고유 ID","title":"Settlement Id"},"description":"상세 정보를 조회할 정산 내역의 고유 ID"}],"responses":{"200":{"description":"정산 상세 정보 조회 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SettlementResponse"},"example":{"id":"d4e5f6a7-b8c9-0123-4567-890abcdef123","partner_id":"c3d4e5f6-a7b8-9012-3456-7890abcdef12","period_start":"2024-10-01T00:00:00Z","period_end":"2024-10-31T23:59:59Z","status":"completed","amount":15000.5,"currency":"USD","details":{"revenue_share":12000.0,"transaction_fees":-50.5,"adjustments":3051.0},"created_at":"2024-11-05T11:00:00Z","processed_at":"2024-11-06T15:30:00Z"}}}},"401":{"description":"인증되지 않은 접근","content":{"application/json":{"example":{"error":{"code":"AUTH_401_UNAUTHORIZED","message":"Authentication required"}},"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"해당 정산 내역 조회 권한 없음 (`settlements.read` 필요 또는 다른 파트너 정산)","content":{"application/json":{"example":{"error":{"code":"AUTH_403_FORBIDDEN","message":"Permission denied to access settlement d4e5..."}},"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"지정한 ID의 정산 내역을 찾을 수 없음","content":{"application/json":{"example":{"error":{"code":"SETTLE_404_NOT_FOUND","message":"Settlement with ID d4e5... not found"}},"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"정산 정보 조회 중 서버 내부 오류 발생","content":{"application/json":{"example":{"error":{"code":"SYS_500_INTERNAL_ERROR","message":"Failed to retrieve settlement details"}},"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"503":{"description":"정산 서비스를 현재 사용할 수 없음 (미구현 또는 일시적 오류)","content":{"application/json":{"example":{"error":{"code":"SYS_503_SERVICE_UNAVAILABLE","message":"Settlement service is currently unavailable"}},"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/health/health/":{"get":{"tags":["Health & Diagnostics","Health & Diagnostics"],"summary":"기본 시스템 상태 확인","description":"시스템의 기본적인 가용성 및 버전, 환경 정보를 확인합니다. 로드 밸런서의 상태 확인(health check) 등에 사용될 수 있습니다.","operationId":"basic_health_check_api_health_health__get","responses":{"200":{"description":"시스템 정상 작동 중","content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object","title":"Response Basic Health Check Api Health Health  Get"},"example":{"status":"ok","version":"1.2.3","environment":"production"}}}}},"security":[{"ApiKeyAuth":[]}]}},"/api/health/health/detailed":{"get":{"tags":["Health & Diagnostics","Health & Diagnostics"],"summary":"상세 시스템 상태 확인","description":"데이터베이스, 캐시 등 주요 시스템 컴포넌트의 연결 상태와 응답 시간을 확인하고, 간단한 시스템 메트릭 요약을 포함하여 반환합니다.\n    각 컴포넌트의 상태는 `components` 필드 아래에 `ok` 또는 `error`로 표시됩니다.\n    \n    - 모든 주요 컴포넌트가 정상(`ok`)일 경우, 전체 상태(`overall_status`)는 `ok`가 되고 **200 OK**를 반환합니다.\n    - 하나 이상의 컴포넌트에 오류(`error`)가 발생하면, 전체 상태는 `error`가 되고 **503 Service Unavailable**을 반환합니다.","operationId":"detailed_health_check_api_health_health_detailed_get","responses":{"200":{"description":"모든 주요 컴포넌트가 정상적으로 작동하고 있습니다.","content":{"application/json":{"schema":{"type":"object","title":"Response Detailed Health Check Api Health Health Detailed Get"},"example":{"overall_status":"ok","version":"1.2.3","environment":"production","check_timestamp":1678886400.123456,"total_check_latency_ms":150.75,"components":{"database":{"status":"ok","latency_ms":50.25},"redis":{"status":"ok","latency_ms":10.5}},"metrics_summary":{"last_collected_at":"2023-03-15T12:00:00Z","cpu_percent":15.5,"memory_percent":45.2}}}}},"503":{"description":"하나 이상의 주요 컴포넌트에 오류가 발생했습니다.","content":{"application/json":{"example":{"overall_status":"error","version":"1.2.3","environment":"production","check_timestamp":1678886405.654321,"total_check_latency_ms":550.1,"components":{"database":{"status":"ok","latency_ms":55.15},"redis":{"status":"error","message":"Connection refused","latency_ms":494.95}},"metrics_summary":{"last_collected_at":"2023-03-15T12:00:05Z","cpu_percent":18.0,"memory_percent":46.0}}}}}},"security":[{"ApiKeyAuth":[]}]}},"/api/health/health/diagnostics":{"post":{"tags":["Health & Diagnostics","Health & Diagnostics"],"summary":"시스템 진단 정보 수집 요청 (관리자 전용)","description":"시스템의 상세 진단 정보(시스템 사양, 실시간 리소스 사용량, 현재 프로세스 정보 등) 수집을 **비동기적으로 요청**합니다.\n    수집된 정보는 서버 로그(JSON 형식)에 기록되며, 문제 해결 및 시스템 분석에 활용될 수 있습니다.\n    \n    - 이 엔드포인트는 진단 정보 수집 *요청*이 성공적으로 접수되었는지 여부만 즉시 반환합니다.\n    - 실제 정보 수집 및 로깅은 백그라운드에서 수행됩니다.\n    - **주의:** 이 엔드포인트는 시스템 부하를 유발할 수 있으므로 필요한 경우에만 사용해야 합니다.\n    \n    **권한 요구사항:** `diagnostics.request` (또는 이에 준하는 관리자 권한)","operationId":"request_diagnostics_api_health_health_diagnostics_post","responses":{"202":{"description":"진단 정보 수집 요청 접수됨","content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object","title":"Response Request Diagnostics Api Health Health Diagnostics Post"},"example":{"message":"Diagnostics collection requested","trace_id":"a1b2c3d4-e5f6-7890-1234-567890abcdef"}}}},"401":{"description":"인증되지 않은 접근","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"진단 요청 권한(`diagnostics.request`) 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"진단 요청 처리(백그라운드 작업 예약) 중 내부 오류 발생","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}},"security":[{"ApiKeyAuth":[]}]}}},"components":{"schemas":{"ApiKey":{"properties":{"name":{"type":"string","title":"Name","description":"API 키 이름"},"permissions":{"items":{"type":"string"},"type":"array","title":"Permissions","description":"권한 목록"},"expires_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Expires At","description":"만료 일시"},"id":{"type":"string","format":"uuid","title":"Id"},"key":{"type":"string","title":"Key","description":"API 키 (마스킹 처리됨)"},"partner_id":{"type":"string","format":"uuid","title":"Partner Id"},"is_active":{"type":"boolean","title":"Is Active"},"last_used_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Used At"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["name","id","key","partner_id","is_active","created_at"],"title":"ApiKey","description":"API 키 응답 스키마"},"ApiKeyCreate":{"properties":{"name":{"type":"string","title":"Name","description":"API 키 이름"},"permissions":{"items":{"type":"string"},"type":"array","title":"Permissions","description":"권한 목록"},"expires_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Expires At","description":"만료 일시"}},"type":"object","required":["name"],"title":"ApiKeyCreate","description":"API 키 생성 스키마"},"ApiKeyWithSecret":{"properties":{"name":{"type":"string","title":"Name","description":"API 키 이름"},"permissions":{"items":{"type":"string"},"type":"array","title":"Permissions","description":"권한 목록"},"expires_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Expires At","description":"만료 일시"},"id":{"type":"string","format":"uuid","title":"Id"},"key":{"type":"string","title":"Key","description":"API 키 (마스킹 처리됨)"},"partner_id":{"type":"string","format":"uuid","title":"Partner Id"},"is_active":{"type":"boolean","title":"Is Active"},"last_used_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Used At"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"key_secret":{"type":"string","title":"Key Secret","description":"API 비밀키 (보안을 위해 한 번만 반환)"}},"type":"object","required":["name","id","key","partner_id","is_active","created_at","key_secret"],"title":"ApiKeyWithSecret","description":"API 키 및 비밀키 응답 스키마 (생성 직후)"},"BalanceResponse":{"properties":{"status":{"type":"string","title":"Status","description":"처리 상태","default":"OK"},"player_id":{"type":"string","format":"uuid","title":"Player Id"},"partner_id":{"type":"string","format":"uuid","title":"Partner Id"},"balance":{"type":"string","title":"Balance"},"currency":{"type":"string","title":"Currency"},"timestamp":{"type":"string","format":"date-time","title":"Timestamp"}},"type":"object","required":["player_id","partner_id","balance","currency","timestamp"],"title":"BalanceResponse","description":"잔액 조회 응답 스키마 "},"CommissionModel":{"type":"string","enum":["revenue_share","cpa","hybrid"],"title":"CommissionModel","description":"Enum for commission models."},"ErrorDetail":{"properties":{"code":{"type":"string","title":"Code","description":"에러 코드 (예: INSUFFICIENT_FUNDS)"},"message":{"type":"string","title":"Message","description":"에러 설명"}},"type":"object","required":["code","message"],"title":"ErrorDetail","description":"에러 상세 정보"},"ErrorResponse":{"properties":{"error":{"$ref":"#/components/schemas/ErrorDetail"}},"type":"object","required":["error"],"title":"ErrorResponse","description":"표준 에러 응답 스키마"},"GameCategory":{"type":"string","enum":["slots","table_games","live_casino","poker","bingo","lottery","sports","arcade"],"title":"GameCategory","description":"게임 카테고리"},"GameCreate":{"properties":{"name":{"type":"string","title":"Name","description":"게임 이름"},"category":{"anyOf":[{"$ref":"#/components/schemas/GameCategory"},{"type":"null"}],"description":"게임 카테고리"},"provider":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Provider","description":"게임 제공사"},"is_active":{"type":"boolean","title":"Is Active","description":"활성 상태 여부","default":true}},"type":"object","required":["name"],"title":"GameCreate"},"GameList":{"properties":{"items":{"items":{"$ref":"#/components/schemas/backend__schemas__game__Game__1"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"},"page":{"type":"integer","title":"Page"},"page_size":{"type":"integer","title":"Page Size"}},"type":"object","required":["items","total","page","page_size"],"title":"GameList"},"GameProvider":{"properties":{"code":{"type":"string","maxLength":50,"title":"Code"},"name":{"type":"string","maxLength":200,"title":"Name"},"status":{"allOf":[{"$ref":"#/components/schemas/GameStatus"}],"default":"active"},"id":{"type":"string","format":"uuid","title":"Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["code","name","id","created_at","updated_at"],"title":"GameProvider"},"GameProviderList":{"properties":{"items":{"items":{"$ref":"#/components/schemas/GameProviderResponse"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"},"page":{"type":"integer","title":"Page"},"page_size":{"type":"integer","title":"Page Size"}},"type":"object","required":["items","total","page","page_size"],"title":"GameProviderList","description":"게임 제공자 목록 응답 스키마 "},"GameProviderResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"name":{"type":"string","title":"Name"},"integration_type":{"type":"string","title":"Integration Type"},"status":{"type":"string","title":"Status"},"api_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Url"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","name","integration_type","status","created_at"],"title":"GameProviderResponse","description":"게임 제공자 응답 스키마 "},"GameSession":{"properties":{"player_id":{"type":"string","format":"uuid","title":"Player Id"},"game_id":{"type":"string","format":"uuid","title":"Game Id"},"partner_id":{"type":"string","format":"uuid","title":"Partner Id"},"launch_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Launch Url"},"status":{"type":"string","title":"Status","description":"세션 상태 (active, closed)","default":"active"},"id":{"type":"string","format":"uuid","title":"Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"}},"type":"object","required":["player_id","game_id","partner_id","id","created_at"],"title":"GameSession"},"GameSessionCreate":{"properties":{"player_id":{"type":"string","format":"uuid","title":"Player Id"},"game_id":{"type":"string","format":"uuid","title":"Game Id"},"partner_id":{"type":"string","format":"uuid","title":"Partner Id"},"launch_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Launch Url"},"status":{"type":"string","title":"Status","description":"세션 상태 (active, closed)","default":"active"}},"type":"object","required":["player_id","game_id","partner_id"],"title":"GameSessionCreate"},"GameSessionList":{"properties":{"items":{"items":{"$ref":"#/components/schemas/GameSession"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"},"page":{"type":"integer","title":"Page"},"page_size":{"type":"integer","title":"Page Size"}},"type":"object","required":["items","total","page","page_size"],"title":"GameSessionList"},"GameStatus":{"type":"string","enum":["active","inactive","maintenance","discontinued"],"title":"GameStatus"},"GameUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category"},"provider":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Provider"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"GameUpdate"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"LoginRequest":{"properties":{"partner_code":{"type":"string","title":"Partner Code","description":"파트너 코드"},"api_key":{"type":"string","title":"Api Key","description":"API 키"}},"type":"object","required":["partner_code","api_key"],"title":"LoginRequest","description":"로그인 요청 스키마"},"Partner":{"properties":{"code":{"type":"string","maxLength":50,"minLength":3,"title":"Code"},"name":{"type":"string","maxLength":200,"minLength":2,"title":"Name"},"partner_type":{"$ref":"#/components/schemas/PartnerType"},"commission_model":{"$ref":"#/components/schemas/CommissionModel"},"commission_rate":{"type":"string","title":"Commission Rate","description":"형식: '0.25%' 또는 '10 USD per transaction'"},"contact_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Contact Name"},"contact_email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Contact Email"},"contact_phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Contact Phone"},"company_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Company Name"},"company_address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Company Address"},"company_registration_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Company Registration Number"},"contract_start_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Contract Start Date"},"contract_end_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Contract End Date"},"id":{"type":"string","format":"uuid","title":"Id"},"status":{"$ref":"#/components/schemas/PartnerStatus"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["code","name","partner_type","commission_model","commission_rate","id","status","created_at","updated_at"],"title":"Partner","description":"파트너 응답 스키마"},"PartnerCreate":{"properties":{"code":{"type":"string","maxLength":50,"minLength":3,"title":"Code"},"name":{"type":"string","maxLength":200,"minLength":2,"title":"Name"},"partner_type":{"$ref":"#/components/schemas/PartnerType"},"commission_model":{"$ref":"#/components/schemas/CommissionModel"},"commission_rate":{"type":"string","title":"Commission Rate","description":"형식: '0.25%' 또는 '10 USD per transaction'"},"contact_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Contact Name"},"contact_email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Contact Email"},"contact_phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Contact Phone"},"company_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Company Name"},"company_address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Company Address"},"company_registration_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Company Registration Number"},"contract_start_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Contract Start Date"},"contract_end_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Contract End Date"},"status":{"allOf":[{"$ref":"#/components/schemas/PartnerStatus"}],"default":"pending"}},"type":"object","required":["code","name","partner_type","commission_model","commission_rate"],"title":"PartnerCreate","description":"파트너 생성 스키마"},"PartnerIP":{"properties":{"ip_address":{"type":"string","title":"Ip Address"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"id":{"type":"string","format":"uuid","title":"Id"},"partner_id":{"type":"string","format":"uuid","title":"Partner Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"is_active":{"type":"boolean","title":"Is Active"}},"type":"object","required":["ip_address","id","partner_id","created_at","is_active"],"title":"PartnerIP","description":"파트너 IP 응답 스키마"},"PartnerIPCreate":{"properties":{"ip_address":{"type":"string","title":"Ip Address"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","required":["ip_address"],"title":"PartnerIPCreate","description":"파트너 IP 생성 스키마"},"PartnerIPList":{"properties":{"items":{"items":{"$ref":"#/components/schemas/PartnerIP"},"type":"array","title":"Items"},"count":{"type":"integer","title":"Count"}},"type":"object","required":["items","count"],"title":"PartnerIPList","description":"파트너 IP 목록 응답 스키마"},"PartnerList":{"properties":{"items":{"items":{"$ref":"#/components/schemas/Partner"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"},"page":{"type":"integer","title":"Page"},"page_size":{"type":"integer","title":"Page Size"}},"type":"object","required":["items","total","page","page_size"],"title":"PartnerList","description":"파트너 목록 응답 스키마"},"PartnerSetting":{"properties":{"key":{"type":"string","title":"Key"},"value":{"type":"string","title":"Value"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"id":{"type":"string","format":"uuid","title":"Id"},"partner_id":{"type":"string","format":"uuid","title":"Partner Id"}},"type":"object","required":["key","value","id","partner_id"],"title":"PartnerSetting","description":"파트너 설정 응답 스키마"},"PartnerSettingCreate":{"properties":{"key":{"type":"string","title":"Key"},"value":{"type":"string","title":"Value"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","required":["key","value"],"title":"PartnerSettingCreate","description":"파트너 설정 생성 스키마"},"PartnerSettingList":{"properties":{"items":{"items":{"$ref":"#/components/schemas/PartnerSetting"},"type":"array","title":"Items"},"count":{"type":"integer","title":"Count"}},"type":"object","required":["items","count"],"title":"PartnerSettingList","description":"파트너 설정 목록 응답 스키마"},"PartnerStatus":{"type":"string","enum":["pending","active","inactive","suspended","terminated"],"title":"PartnerStatus","description":"Enum for partner status."},"PartnerType":{"type":"string","enum":["operator","aggregator","affiliate","casino_operator","payment_provider"],"title":"PartnerType","description":"Enum for partner types."},"PartnerUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"status":{"anyOf":[{"$ref":"#/components/schemas/PartnerStatus"},{"type":"null"}]},"commission_model":{"anyOf":[{"$ref":"#/components/schemas/CommissionModel"},{"type":"null"}]},"commission_rate":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Commission Rate"},"contact_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Contact Name"},"contact_email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Contact Email"},"contact_phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Contact Phone"},"company_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Company Name"},"company_address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Company Address"},"company_registration_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Company Registration Number"},"contract_start_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Contract Start Date"},"contract_end_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Contract End Date"}},"type":"object","title":"PartnerUpdate","description":"파트너 업데이트 스키마"},"ReportCreate":{"properties":{"report_type_id":{"type":"string","title":"Report Type Id","description":"생성할 보고서 유형 ID"},"format":{"allOf":[{"$ref":"#/components/schemas/ReportExportFormat"}],"description":"보고서 형식"},"parameters":{"type":"object","title":"Parameters","description":"보고서 생성 파라미터 (키-값 쌍)","default":{}},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","description":"보고서 이름 (선택 사항, 미지정 시 자동 생성)"}},"type":"object","required":["report_type_id","format"],"title":"ReportCreate","description":"보고서 생성 요청 스키마"},"ReportExportFormat":{"type":"string","enum":["csv","xlsx","pdf","json"],"title":"ReportExportFormat","description":"보고서 내보내기 형식"},"ReportList":{"properties":{"items":{"items":{"$ref":"#/components/schemas/ReportResponse"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total","description":"총 보고서 수"},"page":{"type":"integer","title":"Page","description":"현재 페이지 번호"},"page_size":{"type":"integer","title":"Page Size","description":"페이지 당 항목 수"}},"type":"object","required":["items","total","page","page_size"],"title":"ReportList","description":"보고서 목록 응답 스키마"},"ReportParameterDefinition":{"properties":{"name":{"type":"string","title":"Name","description":"파라미터 이름"},"type":{"type":"string","title":"Type","description":"파라미터 타입 (e.g., string, integer, date, boolean)"},"required":{"type":"boolean","title":"Required","description":"필수 여부","default":false},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"파라미터 설명"},"default":{"anyOf":[{},{"type":"null"}],"title":"Default","description":"기본값"},"options":{"anyOf":[{"items":{},"type":"array"},{"type":"null"}],"title":"Options","description":"선택 가능한 값 목록 (해당되는 경우)"}},"type":"object","required":["name","type"],"title":"ReportParameterDefinition","description":"보고서 유형별 파라미터 정의"},"ReportResponse":{"properties":{"id":{"type":"string","title":"Id","description":"보고서 ID"},"partner_id":{"type":"string","title":"Partner Id","description":"파트너 ID"},"report_type":{"anyOf":[{"$ref":"#/components/schemas/ReportTypeResponse"},{"type":"null"}],"description":"보고서 유형 정보"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","description":"보고서 이름"},"status":{"$ref":"#/components/schemas/ReportStatus"},"format":{"allOf":[{"$ref":"#/components/schemas/ReportExportFormat"}],"description":"보고서 형식"},"parameters":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Parameters","description":"보고서 생성 파라미터"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"보고서 요청 생성 시간"},"completed_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Completed At","description":"보고서 생성 완료 시간"},"file_size":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"File Size","description":"생성된 파일 크기 (바이트)"},"error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Message","description":"실패 시 오류 메시지"}},"type":"object","required":["id","partner_id","status","format","created_at"],"title":"ReportResponse","description":"보고서 응답 스키마"},"ReportStatus":{"type":"string","enum":["pending","processing","completed","failed"],"title":"ReportStatus","description":"보고서 생성 상태"},"ReportTypeList":{"properties":{"items":{"items":{"$ref":"#/components/schemas/ReportTypeResponse"},"type":"array","title":"Items"},"count":{"type":"integer","title":"Count","description":"총 보고서 유형 수"}},"type":"object","required":["items","count"],"title":"ReportTypeList","description":"보고서 유형 목록 응답 스키마"},"ReportTypeResponse":{"properties":{"id":{"type":"string","title":"Id","description":"보고서 유형 ID"},"code":{"type":"string","title":"Code","description":"보고서 유형 코드 (e.g., daily_summary, player_activity)"},"name":{"type":"string","title":"Name","description":"보고서 유형 이름"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"보고서 유형 설명"},"available_formats":{"items":{"$ref":"#/components/schemas/ReportExportFormat"},"type":"array","title":"Available Formats","description":"사용 가능한 내보내기 형식"},"parameters":{"anyOf":[{"items":{"$ref":"#/components/schemas/ReportParameterDefinition"},"type":"array"},{"type":"null"}],"title":"Parameters","description":"보고서 생성에 필요한 파라미터 정의"}},"type":"object","required":["id","code","name","available_formats"],"title":"ReportTypeResponse","description":"보고서 유형 응답 스키마"},"RollbackRequest":{"properties":{"player_id":{"type":"string","format":"uuid","title":"Player Id"},"reference_id":{"type":"string","maxLength":255,"title":"Reference Id","description":"롤백 트랜잭션의 고유 참조 ID"},"original_reference_id":{"type":"string","maxLength":255,"title":"Original Reference Id","description":"롤백할 원본 트랜잭션의 참조 ID"},"rollback_reason":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Rollback Reason"},"metadata":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Metadata","description":"추가 메타데이터"}},"type":"object","required":["player_id","reference_id","original_reference_id"],"title":"RollbackRequest","description":"롤백 요청 스키마 ","example":{"original_reference_id":"BET-ORIGINAL-ID-456","player_id":"a1b2c3d4-e5f6-7890-1234-567890abcdef","reference_id":"ROLLBACK-UNIQUE-ID-123"}},"SettlementList":{"properties":{"items":{"items":{"$ref":"#/components/schemas/SettlementResponse"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total","description":"총 정산 내역 수"},"page":{"type":"integer","title":"Page","description":"현재 페이지 번호"},"page_size":{"type":"integer","title":"Page Size","description":"페이지 당 항목 수"}},"type":"object","required":["items","total","page","page_size"],"title":"SettlementList","description":"정산 목록 응답 스키마"},"SettlementResponse":{"properties":{"id":{"type":"string","title":"Id","description":"정산 ID"},"partner_id":{"type":"string","title":"Partner Id","description":"파트너 ID"},"period_start":{"type":"string","format":"date","title":"Period Start","description":"정산 기간 시작일"},"period_end":{"type":"string","format":"date","title":"Period End","description":"정산 기간 종료일"},"status":{"$ref":"#/components/schemas/SettlementStatus"},"amount":{"type":"string","title":"Amount","description":"정산 금액"},"currency":{"type":"string","title":"Currency","description":"통화 코드"},"settlement_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Settlement Date","description":"정산 처리일"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"정산 레코드 생성 시간"},"updated_at":{"type":"string","format":"date-time","title":"Updated At","description":"정산 레코드 마지막 수정 시간"},"details":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Details","description":"정산 세부 정보 (e.g., 수수료, 조정 내역)"}},"type":"object","required":["id","partner_id","period_start","period_end","status","amount","currency","created_at","updated_at"],"title":"SettlementResponse","description":"정산 응답 스키마"},"SettlementStatus":{"type":"string","enum":["pending","processing","processed","canceled","failed"],"title":"SettlementStatus","description":"정산 상태"},"TokenResponse":{"properties":{"access_token":{"type":"string","title":"Access Token"},"refresh_token":{"type":"string","title":"Refresh Token"},"token_type":{"type":"string","title":"Token Type","default":"bearer"}},"type":"object","required":["access_token","refresh_token"],"title":"TokenResponse","description":"토큰 응답 스키마"},"TransactionList":{"properties":{"items":{"items":{"$ref":"#/components/schemas/TransactionResponse"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"},"page":{"type":"integer","title":"Page"},"page_size":{"type":"integer","title":"Page Size"}},"type":"object","required":["items","total","page","page_size"],"title":"TransactionList","description":"거래 내역 목록 응답 스키마 "},"TransactionRequest":{"properties":{"reference_id":{"type":"string","maxLength":255,"title":"Reference Id","description":"파트너사 제공 고유 트랜잭션 ID"},"amount":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"string"}],"title":"Amount","description":"거래 금액"},"currency":{"type":"string","maxLength":3,"minLength":3,"title":"Currency","description":"통화 코드 (ISO 4217)"},"game_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Game Id","description":"관련 게임 ID (Bet/Win/Cancel 시)"},"ref_transaction_id":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Ref Transaction Id","description":"참조(원본) 트랜잭션 ID (Cancel/Rollback 시)"},"metadata":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Metadata","description":"추가 메타데이터"}},"type":"object","required":["reference_id","amount","currency"],"title":"TransactionRequest","description":"일반 거래 요청 스키마 (Deposit, Withdraw, Bet, Win, Cancel 등 다양한 핸들러에서 사용) "},"TransactionResponse":{"properties":{"player_id":{"type":"string","format":"uuid","title":"Player Id"},"reference_id":{"type":"string","title":"Reference Id"},"transaction_type":{"$ref":"#/components/schemas/TransactionType"},"amount":{"type":"string","title":"Amount"},"currency":{"type":"string","title":"Currency"},"status":{"$ref":"#/components/schemas/TransactionStatus"},"balance":{"type":"string","title":"Balance"},"timestamp":{"type":"string","format":"date-time","title":"Timestamp"}},"type":"object","required":["player_id","reference_id","transaction_type","amount","currency","status","balance","timestamp"],"title":"TransactionResponse","description":"거래 응답 스키마 "},"TransactionStatus":{"type":"string","enum":["pending","completed","failed","canceled"],"title":"TransactionStatus","description":"트랜잭션 상태"},"TransactionType":{"type":"string","enum":["deposit","withdrawal","bet","win","refund","adjustment","commission","bonus","rollback"],"title":"TransactionType","description":"트랜잭션 유형"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"VerifyResponse":{"properties":{"valid":{"type":"boolean","title":"Valid","description":"API 키 유효 여부"},"partner_id":{"type":"string","format":"uuid","title":"Partner Id","description":"API 키에 연결된 파트너 ID"}},"type":"object","required":["valid","partner_id"],"title":"VerifyResponse"},"WalletActionResponse":{"properties":{"status":{"type":"string","title":"Status","description":"처리 상태","default":"OK"},"player_id":{"type":"string","format":"uuid","title":"Player Id"},"partner_id":{"type":"string","format":"uuid","title":"Partner Id"},"balance":{"type":"string","title":"Balance"},"currency":{"type":"string","title":"Currency"},"transaction_id":{"type":"string","title":"Transaction Id"},"amount":{"type":"string","title":"Amount"},"type":{"$ref":"#/components/schemas/TransactionType"},"timestamp":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Timestamp"}},"type":"object","required":["player_id","partner_id","balance","currency","transaction_id","amount","type"],"title":"WalletActionResponse","description":"지갑 액션 응답 스키마 (Deposit, Withdraw, Win, Cancel 등) "},"backend__schemas__game__Game__1":{"properties":{"name":{"type":"string","title":"Name","description":"게임 이름"},"category":{"anyOf":[{"$ref":"#/components/schemas/GameCategory"},{"type":"null"}],"description":"게임 카테고리"},"provider":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Provider","description":"게임 제공사"},"is_active":{"type":"boolean","title":"Is Active","description":"활성 상태 여부","default":true},"id":{"type":"string","format":"uuid","title":"Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["name","id","created_at","updated_at"],"title":"Game"},"backend__schemas__game__Game__2":{"properties":{"name":{"type":"string","title":"Name","description":"게임 이름"},"category":{"anyOf":[{"$ref":"#/components/schemas/GameCategory"},{"type":"null"}],"description":"게임 카테고리"},"provider":{"anyOf":[{"$ref":"#/components/schemas/GameProvider"},{"type":"null"}]},"is_active":{"type":"boolean","title":"Is Active","description":"활성 상태 여부","default":true},"id":{"type":"string","format":"uuid","title":"Id"},"provider_id":{"type":"string","format":"uuid","title":"Provider Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["name","id","provider_id","created_at","updated_at"],"title":"Game"}},"securitySchemes":{"ApiKeyAuth":{"type":"apiKey","in":"header","name":"X-API-Key"}}},"tags":[{"name":"Authentication","description":"파트너 인증 및 API 키 관리"},{"name":"Partner Management","description":"비즈니스 파트너 정보 및 설정 관리"},{"name":"Game Integration","description":"게임 제공자 및 게임 통합 관리"},{"name":"Wallet","description":"플레이어 지갑 및 금융 거래 관리"},{"name":"Reporting","description":"보고서 및 정산 서비스"},{"name":"Health","description":"API 상태 확인"}]}